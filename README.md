# [2] fastBereg (Это часть микросервиса (парсер + API), которая реализует API для выдачи нужных данных фронтентду

## Содержание страницы


  - [Проекты](#проекты)
    - [Проект №1 - bgparse](#проект-1---[https://github.com/DontWorryBro59/bgparse])
    - [Проект №2 - fastBereg](#проект-2---[https://github.com/DontWorryBro59/fastBereg])



## Проблема: 
У поставщика материалов изготовления рекламной продукции и пр. отсутствует API.
Комапания, занимающаяся изготовлением наружней рекламы и рекламной продукции использует материалы с данного сайта.
Для внутренней калькуляции стоймости продукции и анализа возможного ассортимента требуются данные с сайта.

## Проекты

### Проект №1 - bgparse [https://github.com/DontWorryBro59/bgparse]

#Задача
- Требуется без получения доступа к основной базе данных скопированию все товары в наличии
- Сохранить данные в удобном формате для дальнейшего использования

Данная часть проекта отвечает за парсинг данных поставщика.
Потребовалось редактировать данные Cookie для установки нужного города.
Парсинг данных был разделен на разные функции для соблюдения KISS.
Была оптимизирована скорость парсинга данных для ускорения процесса обхода ссылок.
Получения данных для подключения к БД реализованно с помощью чтения переменных окружения.
Создан DOCKER образ, образ выложен на репозиторий для удобного запуска с помощью Docker-compose

стек: SQLalchemy, BeautifulSoup4, requests, Docker, Docker-compose

>Данный репозиторий содержит Docker файл для создания Docker образа. Образ уже создан и помещен в открытый доступ в Docker репозиторий
>Данный репозиторий так же содержит docker-compose.yaml для объединения bgparse + fastBereg + postgres, чтобы не создать дополнительный репозиторий. 
>Хочу обратить внимание, что данные для подключения в Docker-compose не несут в себе приватную информацию, данные использовались в тестовых целях.


### Проект №2 - fastBereg [https://github.com/DontWorryBro59/fastBereg]

#Задача:
Необходимо реализовать API для обращения и получения данных из БД с данными которые получил парсер..

Данная часть проекта отвечает за реализацию API.
Было написано простое API-приложения для реализации возможности получения данных.
Отдельно было реализовано подключение к БД. Созданы модели и схемы для валидации и типизации данных.
Были созданы эндпоинты для получение всего каталога продукции, выборка по ID и др.

стек: FastAPI, SQLalchemy, Pydantic, Uvicorn.


### Инструкция по сборке fastBereg + bgparse
Для сборки связки fastBereg + bgparse потребуется:
- Зайти на VPS сервер
- Установить Docker
- Установить Docker-compose
- создать директорию командой mkdir [директория]
- создать или перенести docker-compose.yaml в директории
- запустить docker-compose.yaml
Произойдет запуск трех контейнеров (fastBereg, bgparse, postgres)
Сначала произойдет первый парсинг данных сайтов, после чего заработает API
Для доступа к API необходимо обратиться к IP сервера
Для доступа к документации API необходимо обратиться к IP сервера/docs
